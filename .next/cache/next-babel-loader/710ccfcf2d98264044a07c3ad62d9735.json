{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\FJGS_\\\\OneDrive\\\\Desktop\\\\tienda_react\\\\pages\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Nav from '../components/Nav';\nimport Cart from '../components/Cart';\nimport ItemList from '../components/ItemList';\nvar ITEMS_DB = [{\n  id: 1,\n  name: \"Paleta Ibérica de Bellota de 4,5 kg Covap\",\n  //Paleta 100 % Ibérica de Bellota Alta Expresion Plata de Covap de 4,5 kg\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"jamon.png\",\n  price: 300,\n  ud: 1,\n  intoCart: false\n}, {\n  id: 2,\n  name: \"Par de calcetines\",\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"nd.png\",\n  price: 9.95,\n  ud: 1,\n  intoCart: false\n}, {\n  id: 3,\n  name: \"Piano de cola\",\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"nd.png\",\n  price: 1800,\n  ud: 1,\n  intoCart: false\n}, {\n  id: 4,\n  name: \"Telescopio Meade MX8\",\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"nd.png\",\n  price: 834.95,\n  ud: 1,\n  intoCart: false\n}, {\n  id: 5,\n  name: \"Juego de tronos - Canción de hielo y fuego 1\",\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"nd.png\",\n  price: 29.95,\n  ud: 1,\n  intoCart: false\n}, {\n  id: 6,\n  name: \"Código limpio\",\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"nd.png\",\n  price: 49.95,\n  ud: 1,\n  intoCart: false\n}];\nvar CART = [];\n\nvar Index = function Index() {\n  _s();\n\n  var _useState = useState([]),\n      shoppingCart = _useState[0],\n      setShoppingCart = _useState[1];\n\n  var _useState2 = useState(shoppingCart.length == 0 ? \"0.00\" : shoppingCart.map(function (e) {\n    return e.price * e.ud;\n  }).reduce(function (e, acc) {\n    return e + acc;\n  }).toFixed(2)),\n      totalPrice = _useState2[0],\n      setTotalPrice = _useState2[1];\n\n  useEffect(function () {\n    var totalItems = document.getElementById(\"cart-count\");\n    var priceCart = document.getElementById(\"totalPrice\");\n    totalItems.innerHTML = shoppingCart.length;\n    totalItems.style.left = shoppingCart.length > 9 ? \"21px\" : \"25px\";\n    priceCart.innerHTML = \"Total a pagar: \".concat(totalPrice, \"\\u20AC\");\n  });\n\n  var setUnitItem = function setUnitItem(id, ud) {\n    shoppingCart.filter(function (e) {\n      return e.id == id;\n    })[0].ud = ud;\n    setShoppingCart(shoppingCart);\n    setTotalPrice(shoppingCart.length == 0 ? 0 : shoppingCart.map(function (e) {\n      return e.price * e.ud;\n    }).reduce(function (e, acc) {\n      return e + acc;\n    }).toFixed(2));\n  };\n\n  var deleteItem = function deleteItem(id) {\n    ITEMS_DB.filter(function (e) {\n      return e.id == id;\n    })[0].intoCart = false;\n    setTotalPrice((totalPrice - shoppingCart.filter(function (e) {\n      return e.id == id;\n    }).map(function (e) {\n      return e.price * e.ud;\n    })).toFixed(2));\n    setShoppingCart(shoppingCart.filter(function (e) {\n      return e.id !== id;\n    }));\n  };\n\n  var addItem = function addItem(item) {\n    ITEMS_DB.filter(function (e) {\n      return e.id == item.id;\n    })[0].intoCart = true;\n    shoppingCart.push(ITEMS_DB.filter(function (e) {\n      return e.id == item.id;\n    })[0]); //No sé la razón, pero si no hago este push el array no se actualiza a tiempo y el precio no cambia, porqué???\n\n    setShoppingCart(shoppingCart);\n    setTotalPrice(shoppingCart.map(function (e) {\n      return e.price * e.ud;\n    }).reduce(function (e, acc) {\n      return e + acc;\n    }).toFixed(2));\n  };\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, __jsx(Nav, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }), __jsx(Cart, {\n    cart: shoppingCart,\n    deleteItem: deleteItem,\n    setUnitItem: setUnitItem,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: \"main-container scroll\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"container-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, ITEMS_DB.map(function (e, i) {\n    return __jsx(ItemList, {\n      db: ITEMS_DB,\n      item: e,\n      id: i,\n      addItem: addItem,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 48\n      }\n    });\n  }))));\n};\n\n_s(Index, \"iOyqpBvlQeTUguq0oe6Oeggav1w=\");\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/FJGS_/OneDrive/Desktop/tienda_react/pages/index.js"],"names":["React","useEffect","useState","Nav","Cart","ItemList","ITEMS_DB","id","name","description","img","price","ud","intoCart","CART","Index","shoppingCart","setShoppingCart","length","map","e","reduce","acc","toFixed","totalPrice","setTotalPrice","totalItems","document","getElementById","priceCart","innerHTML","style","left","setUnitItem","filter","deleteItem","addItem","item","push","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Nav from '../components/Nav';\r\nimport Cart from '../components/Cart';\r\nimport ItemList from '../components/ItemList';\r\n\r\nconst ITEMS_DB = [\r\n    {\r\n        id: 1,\r\n        name: \"Paleta Ibérica de Bellota de 4,5 kg Covap\", //Paleta 100 % Ibérica de Bellota Alta Expresion Plata de Covap de 4,5 kg\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"jamon.png\",\r\n        price: 300,\r\n        ud: 1,\r\n        intoCart: false\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Par de calcetines\",\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"nd.png\",\r\n        price: 9.95,\r\n        ud: 1,\r\n        intoCart: false\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Piano de cola\",\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"nd.png\",\r\n        price: 1800,\r\n        ud: 1,\r\n        intoCart: false\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"Telescopio Meade MX8\",\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"nd.png\",\r\n        price: 834.95,\r\n        ud: 1,\r\n        intoCart: false\r\n    },\r\n    {\r\n        id: 5,\r\n        name: \"Juego de tronos - Canción de hielo y fuego 1\",\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"nd.png\",\r\n        price: 29.95,\r\n        ud: 1,\r\n        intoCart: false\r\n    },\r\n    {\r\n        id: 6,\r\n        name: \"Código limpio\",\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"nd.png\",\r\n        price: 49.95,\r\n        ud: 1,\r\n        intoCart: false\r\n    },\r\n];\r\n\r\nlet CART = [];\r\n\r\nconst Index = () => {\r\n    const [shoppingCart,setShoppingCart] = useState([]);\r\n    const [totalPrice,setTotalPrice] = useState( shoppingCart.length == 0 ? \"0.00\" : shoppingCart.map( e => e.price*e.ud ).reduce( (e,acc) => e+acc ).toFixed(2) );\r\n\r\n    useEffect( () => {\r\n        const totalItems = document.getElementById(\"cart-count\");\r\n        const priceCart  = document.getElementById(\"totalPrice\");\r\n\r\n        totalItems.innerHTML = shoppingCart.length;\r\n        totalItems.style.left = (shoppingCart.length > 9 ? `21px` : `25px`);\r\n        \r\n        priceCart.innerHTML = `Total a pagar: ${totalPrice}€`;\r\n    });\r\n\r\n    const setUnitItem = (id,ud) => {\r\n        shoppingCart.filter( e => e.id == id )[0].ud = ud;\r\n        setShoppingCart( shoppingCart );\r\n        setTotalPrice( shoppingCart.length == 0 ? 0 : shoppingCart.map( e => e.price*e.ud ).reduce( (e,acc) => e+acc ).toFixed(2) );\r\n    }\r\n\r\n    const deleteItem = id => { \r\n        ITEMS_DB.filter( e => e.id == id )[0].intoCart = false;\r\n        setTotalPrice( (totalPrice - shoppingCart.filter( e => e.id == id ).map( e => e.price*e.ud )).toFixed(2) );\r\n        setShoppingCart( shoppingCart.filter( e => e.id !== id ) );\r\n    }\r\n\r\n    const addItem = item => {\r\n        ITEMS_DB.filter( e => e.id == item.id )[0].intoCart = true;\r\n        shoppingCart.push( ITEMS_DB.filter( e => e.id == item.id )[0] ); //No sé la razón, pero si no hago este push el array no se actualiza a tiempo y el precio no cambia, porqué???\r\n        setShoppingCart( shoppingCart );\r\n        setTotalPrice( shoppingCart.map( e => e.price*e.ud ).reduce( (e,acc) => e+acc ).toFixed(2) );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <Nav />\r\n                <Cart cart={shoppingCart} deleteItem={deleteItem} setUnitItem={setUnitItem} />\r\n            </div>\r\n            <div className=\"main-container scroll\">\r\n                <div className=\"container-list\">\r\n                    {\r\n                        ITEMS_DB.map( (e,i) => <ItemList db={ITEMS_DB} item={e} id={i} addItem={addItem} /> )\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}