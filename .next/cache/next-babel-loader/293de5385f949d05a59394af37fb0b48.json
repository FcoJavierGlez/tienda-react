{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FJGS_\\\\OneDrive\\\\Desktop\\\\tienda_react\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Nav from '../components/Nav';\nimport Cart from '../components/Cart';\nimport ItemList from '../components/ItemList';\nconst ITEMS_DB = [{\n  id: 1,\n  name: \"Paleta Ibérica de Bellota de 4,5 kg Covap\",\n  //Paleta 100 % Ibérica de Bellota Alta Expresion Plata de Covap de 4,5 kg\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"jamon.png\",\n  price: 300,\n  ud: 1\n}, {\n  id: 2,\n  name: \"Teclado Logitech\",\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"nd.png\",\n  price: 19.95,\n  ud: 1\n}, {\n  id: 3,\n  name: \"Piano de cola\",\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"nd.png\",\n  price: 1800,\n  ud: 1\n}];\nlet CART = [{\n  id: 1,\n  name: \"Paleta Ibérica de Bellota de 4,5 kg Covap\",\n  //Paleta 100 % Ibérica de Bellota Alta Expresion Plata de Covap de 4,5 kg\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"jamon.png\",\n  price: 300,\n  ud: 1\n}, {\n  id: 2,\n  name: \"Teclado Logitech\",\n  description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\n  img: \"nd.png\",\n  price: 19.95,\n  ud: 1\n}];\n\nconst Index = () => {\n  const {\n    0: shoppingCart,\n    1: setShoppingCart\n  } = useState(CART);\n  const {\n    0: totalPrice,\n    1: setTotalPrice\n  } = useState(shoppingCart.length == 0 ? 0 : shoppingCart.map(e => e.price * e.ud).reduce((e, acc) => e + acc));\n  useEffect(() => {\n    const totalItems = document.getElementById(\"cart-count\");\n    const priceCart = document.getElementById(\"totalPrice\");\n    totalItems.innerHTML = shoppingCart.length;\n    totalItems.style.left = shoppingCart.length > 9 ? `21px` : `25px`;\n    priceCart.innerHTML = `Total a pagar: ${totalPrice}€`;\n    console.log(\"effect\");\n  });\n\n  const setUnitItem = (id, ud) => {\n    shoppingCart.filter(e => e.id == id)[0].ud = ud;\n    setShoppingCart(shoppingCart);\n    setTotalPrice(shoppingCart.length == 0 ? 0 : shoppingCart.map(e => e.price * e.ud).reduce((e, acc) => e + acc));\n  };\n\n  const deleteItem = id => {\n    setTotalPrice((totalPrice - shoppingCart.filter(e => e.id == id).map(e => e.price * e.ud)).toFixed(2));\n    setShoppingCart(shoppingCart.filter(e => e.id !== id));\n  };\n\n  const addItem = item => {\n    console.log(shoppingCart);\n    console.log(item);\n    setShoppingCart([...shoppingCart, item]);\n    console.log(totalPrice);\n    setTotalPrice(shoppingCart.map(e => e.price * e.ud).reduce((e, acc) => e + acc).toFixed(2));\n    console.log(totalPrice);\n    console.log(shoppingCart);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), __jsx(Cart\n  /* onNewItem={addItemToCart} */\n  , {\n    cart: shoppingCart\n    /* totalPrice={totalPrice} */\n    ,\n    deleteItem: deleteItem,\n    setUnitItem: setUnitItem\n    /* changeUnit={setUnitItem} */\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), //console.log(ITEMS_DB.map( e => e ))\n  ITEMS_DB.map(e => __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 40\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, e.name), __jsx(\"button\", {\n    type: \"button\",\n    onClick: () => {\n      console.log(ITEMS_DB.filter(el => el.id == e.id)[0]);\n      addItem(ITEMS_DB.filter(el => el.id == e.id)[0]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, \"Agregar al carrito\")))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/FJGS_/OneDrive/Desktop/tienda_react/pages/index.js"],"names":["React","useEffect","useState","Nav","Cart","ItemList","ITEMS_DB","id","name","description","img","price","ud","CART","Index","shoppingCart","setShoppingCart","totalPrice","setTotalPrice","length","map","e","reduce","acc","totalItems","document","getElementById","priceCart","innerHTML","style","left","console","log","setUnitItem","filter","deleteItem","toFixed","addItem","item","el"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Nav from '../components/Nav';\r\nimport Cart from '../components/Cart';\r\nimport ItemList from '../components/ItemList';\r\n\r\nconst ITEMS_DB = [\r\n    {\r\n        id: 1,\r\n        name: \"Paleta Ibérica de Bellota de 4,5 kg Covap\", //Paleta 100 % Ibérica de Bellota Alta Expresion Plata de Covap de 4,5 kg\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"jamon.png\",\r\n        price: 300,\r\n        ud: 1\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Teclado Logitech\",\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"nd.png\",\r\n        price: 19.95,\r\n        ud: 1\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Piano de cola\",\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"nd.png\",\r\n        price: 1800,\r\n        ud: 1\r\n    },\r\n];\r\n\r\nlet CART = [\r\n    {\r\n        id: 1,\r\n        name: \"Paleta Ibérica de Bellota de 4,5 kg Covap\", //Paleta 100 % Ibérica de Bellota Alta Expresion Plata de Covap de 4,5 kg\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"jamon.png\",\r\n        price: 300,\r\n        ud: 1\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Teclado Logitech\",\r\n        description: \"ñdjabvndmnbñnbéñkah jerodbklja´ñ´ldkfbmnñdklfhjj n\",\r\n        img: \"nd.png\",\r\n        price: 19.95,\r\n        ud: 1\r\n    },\r\n];\r\n\r\nconst Index = () => {\r\n    const [shoppingCart,setShoppingCart] = useState(CART);\r\n    const [totalPrice,setTotalPrice] = useState( shoppingCart.length == 0 ? 0 : shoppingCart.map( e => e.price*e.ud ).reduce( (e,acc) => e+acc ) );\r\n\r\n    useEffect( () => {\r\n        const totalItems = document.getElementById(\"cart-count\");\r\n        const priceCart  = document.getElementById(\"totalPrice\");\r\n\r\n        totalItems.innerHTML = shoppingCart.length;\r\n        totalItems.style.left = (shoppingCart.length > 9 ? `21px` : `25px`);\r\n\r\n        priceCart.innerHTML = `Total a pagar: ${totalPrice}€`;\r\n        console.log(\"effect\");\r\n    });\r\n\r\n    const setUnitItem = (id,ud) => {\r\n        shoppingCart.filter( e => e.id == id )[0].ud = ud;\r\n        setShoppingCart( shoppingCart );\r\n        setTotalPrice( shoppingCart.length == 0 ? 0 : shoppingCart.map( e => e.price*e.ud ).reduce( (e,acc) => e+acc ) );\r\n    }\r\n\r\n    const deleteItem = id => { \r\n        setTotalPrice( (totalPrice - shoppingCart.filter( e => e.id == id ).map( e => e.price*e.ud )).toFixed(2) );\r\n        setShoppingCart( shoppingCart.filter( e => e.id !== id ) );\r\n    }\r\n\r\n    const addItem = item => {\r\n        console.log(shoppingCart);\r\n        console.log(item);\r\n        setShoppingCart( [...shoppingCart, item]);\r\n        console.log(totalPrice);\r\n        setTotalPrice( shoppingCart.map( e => e.price*e.ud ).reduce( (e,acc) => e+acc ).toFixed(2) );\r\n        console.log(totalPrice);\r\n        console.log(shoppingCart);\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <Nav />\r\n                <Cart /* onNewItem={addItemToCart} */ cart={shoppingCart} /* totalPrice={totalPrice} */ deleteItem={deleteItem} setUnitItem={setUnitItem} /* changeUnit={setUnitItem} */ />\r\n\r\n\r\n                {\r\n                    //console.log(ITEMS_DB.map( e => e ))\r\n                    ITEMS_DB.map( e => <div>\r\n                        <div>{e.name}</div>\r\n                        <button type=\"button\" onClick={ () => {\r\n                            console.log(ITEMS_DB.filter( el => el.id == e.id )[0]);\r\n                            addItem( ITEMS_DB.filter( el => el.id == e.id )[0] );\r\n                        }}>Agregar al carrito</button>\r\n                    </div> )\r\n                }\r\n            </div>\r\n            <div>\r\n                \r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}